# 01_requirements.md - 要件定義書

## プロジェクト概要

### プロジェクト名

**コイントス予想ゲーム（Coin Toss Game）**

### 目的

- 暇つぶしで気軽に遊べるシンプルなWebゲームを提供
- SNSでのシェアを通じた拡散

### ターゲットユーザー

- リンクを知っている不特定多数のユーザー
- 暇つぶしにサクッと遊びたい人
- SNSでゲーム結果をシェアしたい人

---

## 機能要件

### 1. ゲームモード選択

- ゲーム開始時に以下2つのモードから選択可能
  - **10回固定モード**：10回プレイして何回当てられるかを競う
  - **サバイバルモード**：外れるまで続ける（連続正解数を競う）

### 2. ゲームフロー

1. モード選択画面
2. プレイ開始
3. コイントスアニメーション開始
4. ユーザーが「表」or「裏」を予想（アニメーション中）
5. 結果表示（正解/不正解）
6. 次のラウンドへ or ゲーム終了
7. 結果サマリー表示（今回スコア + 自己ベスト）
8. SNSシェアボタン表示
9. Google AdSense広告表示（固定1枠）

### 3. スコア記録（ローカルストレージ）

- **保存内容**
  - 自己ベストスコア（モード別）
  - 過去3回のプレイ履歴（日時 + スコア + モード）
- **保存先**：ブラウザのローカルストレージ
- **ログイン不要**

### 4. SNSシェア機能

- **対応SNS**
  - LINE
  - X（旧Twitter）
  - Threads
- **シェア内容**
  - 今回のスコア
  - 自己ベスト
  - ゲームへのリンク
  - テンプレート例：
    ```
    🪙 コイントス予想ゲーム
    今回：5連続正解！
    自己ベスト：12連続正解
    #コイントスゲーム
    [ゲームリンク]
    ```
- **OGP設定**
  - タイトル：コイントス予想ゲーム
  - 説明：連続で何回当てられる？暇つぶしに最適なコイントスゲーム
  - 画像：コインのビジュアル

### 5. 広告表示

- **プラットフォーム**：Google AdSense
- **表示タイミング**：ゲーム終了後の結果画面
- **配置**：固定1枠（レスポンシブ広告）
- **デザイン配慮**：ゲーム体験を損なわない控えめな配置

---

## 非機能要件

### デザイン

- **コンセプト**：ミニマル、シック、カジノ風
- **トレンド対応**：2025年のモダンUIトレンドを反映
- **ダークモード**：標準搭載（ライト/ダーク切り替え可能）
- **カラースキーム**
  - ダーク：ブラック、ゴールド、深緑
  - ライト：オフホワイト、シャンパンゴールド、グレー
- **こだわりポイント**
  - コイントスアニメーション（3D風の回転）
  - 待機時間：約2秒
  - 効果音あり（コイントス音、正解音、不正解音）

### 技術要件

- **フレームワーク**：React 19 + Vite
- **配信方式**：静的コンテンツ
- **デプロイ先**
  - 初期：GitHub Pages（デフォルトドメイン `username.github.io/coin-toss`）
  - 将来：カスタムドメインへの移行を想定
- **レスポンシブ対応**：スマートフォン / タブレット / PC

### パフォーマンス

- **初回表示速度**：3秒以内
- **アニメーション**：60fps を目指す
- **軽量化**：バンドルサイズ最小化

### 保守性

- **メンテナンスコスト**：月1000円以内（ドメイン代を除く）
- **運用コスト**：GitHub Pages（無料） + AdSense（無料）

---

## 段階的な拡張計画

### Phase 1（MVP）：Webアプリ ✅ **最優先**

- React + Vite + GitHub Pages
- 基本ゲーム機能
- SNSシェア
- Google AdSense

### Phase 2：LINE LIFF対応

- LINE内ブラウザでの動作最適化
- LINE シェアの強化

### Phase 3：ネイティブアプリ（検討段階）

- iOS アプリ
- Android アプリ

---

## 技術スタック（Phase 1）

| 項目           | 技術                  | 理由                              |
| -------------- | --------------------- | --------------------------------- |
| フロントエンド | React 19 + Vite       | 最新のReact、軽量・高速ビルド     |
| スタイリング   | Tailwind CSS          | ミニマルなデザインを効率的に実装  |
| アニメーション | Framer Motion         | React向け、滑らかなアニメーション |
| 状態管理       | useState / useContext | 小規模アプリには十分              |
| ストレージ     | LocalStorage API      | ログイン不要のシンプルな実装      |
| ホスティング   | GitHub Pages          | 無料、静的サイトに最適            |
| 広告           | Google AdSense        | メンテナンスコスト最小            |
| OGP生成        | index.html内メタタグ  | シンプルな静的OGP設定             |

---

## 制約事項

- ユーザー認証機能なし（ローカルストレージのみ）
- グローバルランキングなし
- オンライン対戦機能なし
- 課金機能なし

---

## 成功指標（KPI）

- 月間訪問者数：1000人以上
- AdSense収益：月1000円以上
- SNSシェア率：プレイヤーの10%以上
- リピート率：30%以上

---

## リスクと対策

| リスク                | 対策                            |
| --------------------- | ------------------------------- |
| AdSense審査に通らない | 審査通過まで広告枠は空白で運用  |
| アクセスが集まらない  | SNSシェア機能の強化、OGP最適化  |
| GitHub Pages が重い   | Netlify / Vercel への移行を検討 |
| 効果音が煩わしい      | ミュートボタンの追加            |

---

## 補足事項

- 機能は最小限に絞り込み、拡張性を確保
- 実装しやすい粒度で記載

---

**要件定義完了日：2025年**
**バージョン：1.0**
